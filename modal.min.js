const modalLink=document.querySelector(".open-modal"),modalPopup=document.querySelector(".modal"),modalClose=modalPopup.querySelector(".wrapper-close"),modalForm=modalPopup.querySelector(".modal-form"),modalName=modalPopup.querySelector(".modal-form-name"),modalEmail=modalPopup.querySelector(".modal-form-email"),modalTextmail=modalPopup.querySelector(".modal-form-textmail");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("login")}catch(e){isStorageSupport=!1}modalLink.addEventListener("click",function(e){e.preventDefault(),modalPopup.classList.add("visible"),storageName&storageEmail?(modalName.value=storageName,modalEmail.value=storageEmail,modalTextmail.focus()):(storageName?modalEmail:modalName).focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),modalPopup.classList.remove("visible"),modalPopup.classList.remove("modal-error")}),modalForm.addEventListener("submit",function(e){modalName.value&&modalEmail.value&&!modalTextmail.value?isStorageSupport&&(localStorage.setItem("login",modalName.value),localStorage.setItem("email",modalEmail.value)):(e.preventDefault(),modalPopup.classList.remove("modal-error"),modalPopup.offsetWidth=modalPopup.offsetWidth,modalPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalPopup.classList.contains("visible")&&(e.preventDefault(),modalPopup.classList.remove("visible"),modalPopup.classList.remove("modal-error"))});const modalMapOpen=document.querySelector(".map"),modalMap=document.querySelector(".modal-map"),modalMapClose=modalMap.querySelector(".wrapper-close");modalMapOpen.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("visible")}),modalMapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("visible")});const slider=document.querySelector(".slider"),sliderFirst=slider.querySelector(".slider-first"),sliderSecond=slider.querySelector(".slider-second"),sliderThird=slider.querySelector(".slider-third"),switchFirst=document.querySelector(".switch-first"),switchSecond=document.querySelector(".switch-second"),switchThird=document.querySelector(".switch-third");switchFirst.addEventListener("click",function(e){e.preventDefault,switchSecond.classList.contains("slider-open")?switchSecond.classList.remove("slider-open"):switchThird.classList.contains("slider-open")&&switchThird.classList.remove("slider-open"),switchFirst.classList.add("slider-open"),sliderSecond.classList.contains("hide")||sliderSecond.classList.add("hide"),sliderThird.classList.contains("hide")||sliderThird.classList.add("hide"),sliderFirst.classList.remove("hide")}),switchSecond.addEventListener("click",function(e){e.preventDefault,switchFirst.classList.contains("slider-open")&&switchFirst.classList.remove("slider-open"),switchThird.classList.contains("slider-open")&&switchThird.classList.remove("slider-open"),switchSecond.classList.add("slider-open"),sliderFirst.classList.contains("hide")||sliderFirst.classList.add("hide"),sliderThird.classList.contains("hide")||sliderThird.classList.add("hide"),sliderSecond.classList.remove("hide")}),switchThird.addEventListener("click",function(e){e.preventDefault,switchSecond.classList.contains("slider-open")?switchSecond.classList.remove("slider-open"):switchFirst.classList.contains("slider-open")&&switchFirst.classList.remove("slider-open"),switchThird.classList.add("slider-open"),sliderFirst.classList.contains("hide")||sliderFirst.classList.add("hide"),sliderSecond.classList.contains("hide")||sliderSecond.classList.add("hide"),sliderThird.classList.remove("hide")});